<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DBTeam - Plataforma de Bots</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css" />
  <link rel="stylesheet" href="/static/shared.css" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <style>
      :root {
        --accent: #2563eb;
        --accent-2: #7c3aed;
        --bg: #071028;
        --card: #0b1220;
        --text: #e6eef8;
        --muted: #b0b8c9;
      }
      [data-theme="light"] {
        --bg: #f4f7fb;
        --card: #fff;
        --text: #1a2233;
        --muted: #6b7280;
      }
      body {
        background: linear-gradient(180deg, var(--bg), #021021);
        color: var(--text);
        transition: background 0.3s, color 0.3s;
      }
      .site-header {
        background: var(--card);
        box-shadow: 0 2px 8px rgba(31,38,135,0.08);
      }
      .main-nav a, .header-actions a {
        color: var(--accent);
        font-weight: 600;
        text-decoration: none;
        margin-right: 12px;
        transition: color 0.2s;
      }
      .main-nav a:hover, .header-actions a:hover {
        color: var(--accent-2);
      }
      [data-theme="light"] .main-nav a, [data-theme="light"] .header-actions a {
        color: #2563eb;
      }
      [data-theme="light"] .main-nav a:hover, [data-theme="light"] .header-actions a:hover {
        color: #7c3aed;
      }
      .theme-toggle-btn {
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 6px 14px;
        margin-left: 10px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.2s;
      }
      .theme-toggle-btn:hover {
        background: var(--accent-2);
      }
  </style>
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <a class="brand" href="index.html"><img src="logo.svg" class="logo" alt="DBTeam"/> <span>DBTeam</span></a>
      <nav class="main-nav" aria-label="Main navigation">
        <a href="index.html">Inicio</a>
        <a href="chat.html">Chat</a>
        <a href="telegram.html">Telegram</a>
        <a href="monitor.html">Monitor</a>
        <a href="traducciones.html">Traducciones</a>
        <a href="links.html">Enlaces</a>
        <a href="status.html">Estado</a>
        <a href="wsl_install.html">WSL install</a>
      </nav>
      <div class="header-actions">
          <button class="theme-toggle-btn" id="themeToggleBtn" type="button">üåô/‚òÄÔ∏è</button>
            <script>
              // Tema: claro/oscuro con persistencia
              function setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
                var btn = document.getElementById('themeToggleBtn');
                if (btn) btn.textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
              }
              function toggleTheme() {
                const current = document.documentElement.getAttribute('data-theme') || 'dark';
                setTheme(current === 'dark' ? 'light' : 'dark');
              }
              document.addEventListener('DOMContentLoaded', function() {
                const saved = localStorage.getItem('theme') || 'dark';
                setTheme(saved);
                var btn = document.getElementById('themeToggleBtn');
                if (btn) btn.addEventListener('click', toggleTheme);
              });
            </script>
          <script>
            // Tema: claro/oscuro con persistencia
            function setTheme(theme) {
              document.documentElement.setAttribute('data-theme', theme);
              localStorage.setItem('theme', theme);
              document.getElementById('themeToggleBtn').textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
            }
            function toggleTheme() {
              const current = document.documentElement.getAttribute('data-theme') || 'dark';
              setTheme(current === 'dark' ? 'light' : 'dark');
            }
            document.addEventListener('DOMContentLoaded', function() {
              const saved = localStorage.getItem('theme') || 'dark';
              setTheme(saved);
              document.getElementById('themeToggleBtn').addEventListener('click', toggleTheme);
            });
          </script>
        <a href="login.html" class="btn">Login</a>
        <a href="register.html" class="btn ghost">Registro</a>
      </div>
      <button class="nav-toggle" aria-label="Abrir men√∫">‚ò∞</button>
    </div>
  </header>
  <main class="landing-main">
    <div class="landing-card">
      <h2>Bienvenido a DBTeam</h2>
      <p>Gestiona tus bots, accede a recursos, solicita soporte o explora las herramientas disponibles.<br><br>
      Si eres nuevo, puedes registrarte para comenzar a usar la plataforma.</p>
      <div class="landing-actions">
        <a href="login.html">Iniciar sesi√≥n</a>
        <a href="register.html" class="secondary">Registrarse</a>
        <a href="help.html" class="secondary">Ayuda</a>
        <a href="tutorial.html" class="btn ghost">Tutorial</a>
        <a href="setup.html" id="setupLink" class="btn ghost" style="display:none">Instalar DBTeam</a>
      </div>
    </div>
  </main>
  <footer style="text-align:center;color:var(--muted);padding:1.2rem 0 0.7rem 0;font-size:1rem;letter-spacing:1px;">
    &copy; 2026 DBTeam. Todos los derechos reservados.
  </footer>
  <script>
    // Responsive nav toggle
    document.querySelector('.nav-toggle').onclick = function() {
      document.querySelector('.main-nav').classList.toggle('open');
    };
    // Mostrar acceso a setup solo si no hay owner
    fetch('/status').then(r => {
      const contentType = r.headers.get('content-type') || '';
      if (contentType.includes('application/json')) {
        return r.json();
      } else {
        throw new Error('Respuesta de /status no es JSON');
      }
    }).then(js => {
      if(js.counts && js.counts.users === 0) {
        document.getElementById('setupLink').style.display = 'inline-block';
      }
    }).catch(err => {
      console.error('Error al obtener /status:', err);
    });
  </script>
</body>
</html>
